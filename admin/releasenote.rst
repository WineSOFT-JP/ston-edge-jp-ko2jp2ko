.. _release:

Appendix D: リリースノート
***********************

v2.5.x
====================================

2.5.11 (2018.1.25)
----------------------------

**機能改善/ポリシーの変更**

 - SSL/TLS - :ref:`https-ciphersuite` SHA3​​84をサポート
 - SSL/TLS - `The ROBOT Attack <https://robotattack.org/>`_ 対応
 - :ref:`handling_http_requests_modify_client` - HTTPリクエストMethod条件を追加
 - :ref:`access-control-vhost` - POSTリクエストもアクセス制限が可能なように改善
 - WM - キャッシュの状態確認ページへのHTTPSダウンロード機能を追加



2.5.10 (2017.12.18)
----------------------------

**機能改善/ポリシーの変更**

 - :ref:`media-dims` - Round（画像の角を丸く処理）コマンドを追加
 - :ref:`handling_http_requests_modify_client` , :ref:`origin_modify_client` - #PROTOCOLキーワードを追加
 - :ref:`env-etc` - 空のディレクトリの削除ポリシーを追加
 - :ref:`api-conf-upload-xml` 追加


**バグ修正**

 - いくつかのAPI呼び出しの結果JSON文法エラーを修正



2.5.9 (2017.11.30)
----------------------------

**バグ修正**

 - :ref:`media-dims` - 縦の長さだけを入力する場合、Resizeされない問題を修正
 - :ref:`media-hls` - 部のiOSから低い確率で再生されない症状



2.5.8 (2017.11.9)
----------------------------

- :ref:`origin-use-policy` - DNSにResolvingされたIPアドレスの最大使用時間を設定する。

**機能改善/ポリシーの変更**

 - :ref:`media-dims` - ``ResizeCrop`` コマンドを追加
 - :ref:`media-dims` - :ref:`media-dims-anigif` 変換時のフレーム数の制限コマンド ``limit`` 追加
 - :ref:`access-control-vhost` - :ref:`access-control-vhost_redirect` 条件に ``PROTOCOL`` 条件の追加

**バグ修正**

 - :ref:`origin-use-policy` - DNSにResolvingされたIPアドレスの累積数が多くなる場合、統計集計が遅れていた症状
 - [WM] :ref:`access-control-vhost` UIが割れ症状
 - [WM] :ref:`handling_http_requests_modify_client` の設定が初期化される症状



2.5.7 (2017.10.13)
----------------------------

**バグ修正**

 - [v2.5.5 ~ v2.5.6] Transfer-Encoding コンテンツのメモリが整理されていなかった問題を修正
 - [v2.4.6 ~ v2.5.6] :ref:`media-mp3-hls` - キャッシュされたコンテンツが更新される場合、異常終了する問題を修正




2.5.6 (2017.9.28)
----------------------------

- HTTP OPTIONS Methodサポート

**バグ修正**

 - 設定が正常にバックアップされない場合、SNMP関連の設定が反映されなかった問題を修正
 - :ref:`handling_http_requests_compression` - TTLが初期化された問題を修正



2.5.5 (2017.8.30)
----------------------------

- コンテンツ :ref:`handling_http_requests_drm` をサポートする。
- :ref:`caching-policy-unvalidatable` を設定することができる。

**機能改善/ポリシーの変更**

- :ref:`adv_topics_memory_only` の安定性を強化
- クラスタ情報照会 :ref:`wm_cluster_list_api` を追加
- [WM] Apacheのセキュリティ勧告に反映


**バグ修正**

 - :ref:`media-dims` 、 :ref:`handling_http_requests_compression` されたファイルのI / Oが失敗した場合、変換要求がBypassされる問題
 


2.5.4 (2017.8.10)
----------------------------

**バグ修正**

 - [v2.5.0 ~ v2.5.3] Byte Hit Ratioが落ちる問題を修正


2.5.3 (2017.7.10)
----------------------------

**バグ修正**

 - [v2.5.0 ~ v2.5.2] SSL正常に動作しない問題を修正



2.5.2 (2017.7.6)
----------------------------

**機能改善/ポリシーの変更**

 - :ref:`media-dims` TrimとCrop Center機能を追加
 - :ref:`media-dims` Geometric情報が誤った要求の例外処理の強化
 
**バグ修正**

 - :ref:`adv_topics_memory_only` でDisk整理ロジックが実行される症状の修正
 - :ref:`adv-vhost-link` から断続的に、次の仮想ホストに移らない問題を修正



2.5.1 (2017.6.8)
----------------------------

**機能改善/ポリシーの変更**

 -  POSTリクエストをキャッシュする場合、元のサーバーにクライアントが送信されるContent-Typeを送信するように変更
 
**バグ修正**

 - [v2.5.0] :ref:`origin_partsize` 機能が有効になっている場合、キャッシュされていたファイルが初期化される問題
 - [v2.5.0] :ref:`origin_partsize` 機能が有効になっているWrite統計が収集されていない問題
 - WM – HTTPヘッダーの変更時、引用符（ "）が入力されない問題



2.5.0 (2017.5.25)
----------------------------

- HTTPS - :ref:`https_sni` をサポートする。
- :ref:`adv_topics_memory_only` をサポートします。



v2.4.x
====================================


2.4.11 (2017.5.18)
----------------------------

**バグ修正**

 - MP4ヘッダが後ろに、サイズが4G以上のファイルがPseudo-Streamingがされない問題を修正




2.4.10 (2017.5.11)
----------------------------

**バグ修正**

 - :ref:`media-hls` - ヘッダが大きいMP4ファイルをHLSにサービスする場合、低い確率で場合、映像と音声が合わない問題を修正



2.4.9 (2017.4.24)
----------------------------

**機能改善/ポリシーの変更**

 - :ref:`media-hls` - エンコーディング情報がすべてのキーフレームに含まれている映像の互換性を強化
 - ハイエンドサーバのメモリ使用ポリシーを最適化

**バグ修正**

 - STON Edge Serverが実行中のシステム時間が変更されると、1時間の間の統計が欠落している問題
 - :ref:`origin-health-checker` セッションが有効になっている場合、非常に低い確率で異常終了することができる問題
 - Bypassセッションが有効になっている状態で、Diskが排除された場合、低い確率で異常終了することができる問題
 - （ログ圧縮機能を使用する場合）、ログが圧縮される時点で、ログが一部欠落することができる問題
 - :ref:`origin_partsize` 機能が有効にされた状態で、ヘッダが大きいメディアファイルをサービスする際に、最初の要求が断続的に切断されることがある問題


2.4.8 (2017.4.17)
----------------------------
**バグ修正**

 - 一つの仮想ホストから約20億以上のファイルが新規に作成されると、異常終了する症状



2.4.7 (2017.4.11)
----------------------------
**バグ修正**

 - [2.4.5 ~ 2.4.6] SSL通信時のCPU使用率とシステムの負荷が高くなる症状


2.4.6 (2017.3.29)
----------------------------

- :ref:`media-mp3-hls` MP3形式でSegementationが可能である。

**機能改善/ポリシーの変更**

 - :ref:`media-mp3-hls` - 分析プロセスにエラーが発生した場合は、ポリシーの変更

     | **Before**. 404 Not Found 応答
     | **After**. 分析された地点までHLSにサービス

 - :ref:`media-hls` - 時間の値（PCR、PTS、DTS）計算式の変更を通じたプレーヤーの互換性を強化

**バグ修正**

 - 低い確率で404の応答がメモリからSwapされる異常終了する問題


.. warning::

   以前のバージョンと :ref:`media-hls` のMPEG2-TSは互換性がありません


2.4.5 (2017.2.16)
----------------------------
**バグ修正**

 - :ref:`media-dims` 処理時、元のサーバーがTransfer-Encoding：chunkedで応答する場合、異常終了した症状
 - SSL CipherSuiteをECDHEのみを選択するように設定する場合、Chromeブラウザでの接続が終了する症状
 - 非常に低い確率でログのクリーンアップ時に異常終了する症状



2.4.4 (2017.2.8)
----------------------------
**バグ修正**

 - ソースサーバーの障害時に断続的に :ref:`media-dims` 変換要求がBypassれる症状


2.4.3 (2017.1.20)
----------------------------
**バグ修正**

 - 圧縮機能使用時、断続的にContent-Encodingヘッダが欠落している症状

2.4.2 (2017.1.18)
----------------------------

   - :ref:`adv-vhost-link` を追加

**バグ修正**

 - ソースサーバーがContent-Lengthヘッダに負の値を与える場合、異常終了した症状
 - :ref:`media-mp3-hls` - ソースサーバーとの通信が不安定な場合、断続的に異常終了される症状

2.4.1 (2016.11.24)
----------------------------
**機能改善/ポリシーの変更**

 - 元HTTP応答でreason phrasesがない場合でも、処理することができるようにポリシーを変更する
 -	:ref:`media-dims` – イメージを拡大時キャンバスのみ育てる機能を追加

**バグ修正**

 - 圧縮機能を使用する場合、非常に低い確率で圧縮されたファイルが壊れて症状を修正
 -	VLCプレーヤーでM4A HLSが再生されない問題を修正
 - :ref:`media-dims` を利用して画像変換時の変換サイズを入力しない場合は異常終了される症状

2.4.0 (2016.11.7)
----------------------------
**機能改善/ポリシーの変更**

 - 元の要求URLを変更する機能を追加
 - M4Aをm4a-hlsに送信する

**バグ修正**

 - Invalid mp4ヘッダの強化された処理

v2.3.x
====================================

2.3.9 (2016.10.28)
----------------------------


**バグ修正**

 - 一部の環境では、低確率で数秒間コンテンツが更新されなかった症状


2.3.8 (2016.10.13)
----------------------------


**バグ修正**

 - Invalid mp4ヘッダの強化された処理


2.3.7 (2016.09.26)
----------------------------

**機能改善/ポリシーの変更**

 - :ref:`media-dims` 機能を利用して画像変換時のシステムリソースの使用量を制限するようにポリシーの変更
 - Health-Checker機能使用時Standby元サーバーもチェックするようにポリシーを変更する

**バグ修正**

 - :ref:`handling-http-requests-compression` 機能のON / OFF設定が反映されなかったバグを修正


2.3.6 (2016.08.16)
----------------------------

**機能改善/ポリシーの変更**

 - 一部の透過PNGをJPGへフォーマット変換時の背景が黒に変更される問題を修正
 - 異常クライアントソケットの処理ポリシーの強化

**バグ修正**

 - DIMS変換中Hardpurge APIを呼び出す場合、断続的に異常終了いた症状


2.3.5 (2016.07.01)
----------------------------

**機能改善/ポリシーの変更**

 - Native HLSモジュールを使用しているプレイヤーとの互換性を強化
 - DIMSのCrop機能は縦横比を維持せずに入力したサイズにCropするポリシーを変更

**バグ修正**

 - Health-Checker機能が有効になっている状態で、元の状態の初期化API呼び出し時に断続的に異常終了する問題を修正


2.3.4 (2016.06.03)
----------------------------

**機能改善/ポリシーの変更**

   - 32bit atomでエンコードされた4基以上のMP4ファイルをサポート
   - unknown accessログにHostヘッダの値を追加
   - WM - セキュリティ勧告でSTON最初のインストール時にApache manualフォルダを削除する
   - WM - STON最初のインストール時にApache駆動アカウントであるwinesoftアカウントをnologin権限で作成するように変更

**バグ修正**

   - HLS - いくつかの映像では、CPUを寡占有していた症状
   - HTTP要求がバイパスされるときに、低確率で異常終了いた症状
   - AccessログにクライアントのIPアドレスが0.0.0.0に記録れた症状
   - 仮想ホストが260個以上の場合は、設定ファイルがバックアップされなかった症状

2.3.3 (2016.04.26)
----------------------------

**バグ修正**

   - [2.3.0 ~ 2.3.2] ソースサーバーHostの設定とDims、圧縮設定が一緒にされている場合、404エラーコードを応答する症状
   - SNMP Viewの作成後、削除時CPU寡占有症状
   - WM - SNMP GlobalMin値を0に設定することができなかった症状


2.3.2 (2016.03.22)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`mp3-hls` インデックスファイルの互換性を強化

**バグ修正**

   - 通常のHandshakeなく、がん化/復号化が進むと異常終了いた症状
   - ACLが有効にされた状態で、断続的に異常終了いた症状


2.3.1 (2016.02.25)
----------------------------

   - MP3を :ref:`mp3-hls` に送信する。

**機能改善/ポリシーの変更**

   - :ref:`admin-log-access-custom` を追加
     | %y リクエストのHTTPヘッダサイズ
     | %z 応答のHTTPヘッダサイズ

**バグ修正**

   - WM - Destポートを入力しない場合は、設定されなかった症状


2.3.0 (2016.02.03)
----------------------------

   - コンテンツを :ref:`handling-http-requests-compression` して送信する。

**バグ修正**

   - :ref:`expires` ヘッダ時間をModificationに設定した場合、max-ageの値が正しく計算れた症状
   - :ref:`media-dims` - 平均統計計算するとき分母を “成功” の回数のみを使用していた症状


v2.2.x
====================================

2.2.5 (2016.01.12)
----------------------------

**機能改善/ポリシーの変更**

   - HTTP <451 Unavailable For Legal Reasons> 応答コードを追加

**バグ修正**

   - TLS - 攻撃パケットの異常終了いた症状（例外処理の強化）


2.2.4 (2015.12.11)
----------------------------

**バグ修正**

   - HLS - いくつかの映像でSegmentationポリシーのために再生されなかった症状


2.2.3 (2015.12.04)
----------------------------

**バグ修正**

   - v2.2.2でWMを介して、仮想ホストが作成されなかった症状


2.2.2 (2015.12.04)
----------------------------

   - 元に送信するHTTPリクエストのヘッダを変調する。

**機能改善/ポリシーの変更**

   - :ref:`handling-http-requests-modify-client` - putアクションを追加。 同じ名前のヘッダをマルチラインに挿入する。


2.2.1 (2015.11.19)
----------------------------

**バグ修正**

   - TLS - Handshake過程の中で、クライアントがChangeCipherSpecとClientFinishedを別に送信するときは、サーバーがChangeCipherSpecを重複して送った症状
   - DIMS - Animated GIFをリサイズするときの比率が維持されなかった症状


2.2.0 (2015.11.04)
----------------------------

   - TLS 1.2をサポートする。 （+ Forward Secrecyなどの細かいセキュリティポリシーの強化）

**バグ修正**

   - ディスク情報を得られない場合、異常終了していた症状
   - TLS - Handshake過程でMaxのバージョンを選択していなかった症状

     | **Before**.  TLSPlaintext.version使用
     | **After**. ClientHello.client_version使用


v2.1.x
====================================

2.1.9 (2015.10.15)
----------------------------

**バグ修正**

   - :ref:`media-hls` - v2.1.7 アップデート後、いくつかの映像が正常に再生されなかった症状


2.1.8 (2015.10.14)
----------------------------

**バグ修正**

   - [v2.1.6 ~ 2.1.7] 許可されていないIPアドレスからマネージャーポートにアクセス時異常終了いた症状


2.1.7 (2015.10.07)
----------------------------

   - :ref:`multi-trimming` - 時間の値を基準にし、複数の指定された区間を一つの映像として抽出する。

**機能改善/ポリシーの変更**

   - :ref:`access` -  X-Forwarded-Forヘッダ記録オプションTrimCIP追加

**バグ修正**

   - HLS - いくつかのprofileでの画面震えの症状
   - :ref:`media-dims` - TTLが0に設定されているときに、断続的に500 Internal Errorで応答していた症状
   - X-Forwarded-For ヘッダをログにc-ipフィールドに記録する際に空白文字が含まれていた症状


2.1.6 (2015.09.10)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`media-dims` - Animated GIFの最初のシーンのみを変換することができる。

**バグ修正**

   - ACL - IP許可/ブロックが正常に動作していなかった症状
   - :ref:`media-dims` - Cropなど+記号を用いた座標指定がされなかった症状


2.1.5 (2015.08.18)
----------------------------

   - :ref:`sub-path` - アクセスパスに応じて異なる仮想ホストに分岐する。
   - :ref:`facade` - アクセスパスに応じて異なる仮想ホストに分岐する。


2.1.4 (2015.07.31)
----------------------------

**機能改善/ポリシーの変更**

   - CPU使用率の改善
   - :ref:`multi-nic` - NICの名前でListenする。
   - アクセス制御視点変更

     | **Before**. クライアントが要求されたURIでキーワード（DIMSやMP4HLSなど）を削除した後の検査
     | **After**. クライアントが要求したURIのそのまま検査

**バグ修正**

   - :ref:`media-dims` - エンコードされた変換文字列を認識していなかった症状
   - :ref:`hardpurge` が :ref:`caching-policy-casesensitive` ポリシーに準拠していなかった症状
   - 設定バックアップするとき :ref:`post` が不足していた症状


2.1.3 (2015.06.25)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`syncstale` - 管理(:ref:`purge`, :ref:`expire`, :ref:`hardpurge`) API呼び出しがインデックスに反映されない場合がないように、ログに記録して、サービスの再起動時に再反映する。
   - :ref:`admin-log-access-custom` に％u表現を追加。 クライアントが要求されたFull URIを記録する。

**バグ修正**

   - :ref:`media-dims` - ソースサーバーからLast-Modifiedヘッダを与えないときの画像が更新されなかった症状
   - :ref:`trimming` されたMP4のサイズが4GBを超える場合のCPUを寡占有していた症状
   - エラーページを応答するとき :ref:`via` ヘッダの設定が反映されなかった症状


2.1.2 (2015.05.29)
----------------------------

   - WM - 英語バージョンのサポート

**機能改善/ポリシーの変更**

   - Single Core 機器サポート

**バグ修正**

   - :ref:`adv-topics-indexing` モードでカスタマイズモジュールが誤動作した症状


2.1.1 (2015.05.07)
----------------------------

   - HLS - Stream Alternates形式を使用してBandwidth、Resolution情報を提供する。

**バグ修正**

   - ヘッダが壊れたMP4映像分析の異常終了いた症状


2.1.0 (2015.04.15)
----------------------------

   - :ref:`media-dims` でAnimated GIF形式をサポートする。
   - :ref:`media-dims` 変換統計の追加

**機能改善/ポリシーの変更**

   - :ref:`caching-purge` APIからディレクトリ表現を削除

     | ディレクトリ表現（example.com/img/）は、そのURLに対応する（元のサーバーが応答した）ファイルだけを意味する。
     | 既存のディレクトリ表現（example.com/img/）はパターン（example.com/img/ * ）に統合する。

   - API表現を追加

     | /monitoring/average.xml
     | /monitoring/average.json
     | /monitoring/realtime.xml
     | /monitoring/realtime.json
     | /monitoring/fileinfo.json
     | /monitoring/hwinfo.json
     | /monitoring/cpuinfo.json
     | /monitoring/vhostslist.json
     | /monitoring/geoiplist.json
     | /monitoring/ssl.json
     | /monitoring/cacheresource.json
     | /monitoring/origin.json
     | /monitoring/coldfiledist.json

   - WM - resolv.conf 編集機能の削除


v2.0.x
====================================

2.0.8 (2015.08.06)
----------------------------

**機能改善/ポリシーの変更**

   - CPU使用率の改善

**バグ修正**

   - 設定をバックアップするとき、POSTリクエスト例外条件が不足していた症状


2.0.7 (2015.06.25)
----------------------------

**バグ修正**

   - :ref:`media_dims` - ソースサーバーからLast-Modifiedヘッダを与えないときの画像が更新されなかった症状
   - :ref:`trimming` されたMP4のサイズが4GBを超える場合のCPUを寡占有していた症状
   - エラーページを応答するとき :ref:`via` ヘッダの設定が反映されなかった症状


2.0.6 (2015.04.28)
----------------------------

**機能改善/ポリシーの変更**

   - WM - resolv.conf 編集機能の削除

**バグ修正**

   - ヘッダが壊れたMP4映像分析の異常終了いた症状


2.0.5 (2014.04.01)
----------------------------

**機能改善/ポリシーの変更**

   - Trimming された映像をHLSにサービスすることができる。 次は、元の画像（/vod.mp4）の0〜60秒の区間をTrimmingした後、HLSにサービスする表現である。

       | /vod.mp4?start=0&end=60/**mp4hls/index.m3u8**
       | /vod.mp4**/mp4hls/index.m3u8**?start=0&end=60
       | /vod.mp4?start=0/**mp4hls/index.m3u8**?end=60

   - HLS インデックスファイル（.m3u8）バージョンの改善

       | **Before**. バージョン 1
       | **After**. バージョン 3 (バージョン1に変更可能)

**バグ修正**

   - HLS変換中HTTPエンコードされている特殊文字がある場合、異常終了いた症状
   - ヘッダが壊れたMP4画像解析のCPUが過度に占有れた症状
   - AudioのKeyFrameが均一でないMP4映像をHLSにサービスするときAudioとVideoの同期が合わない症状
   - RRD - 統計情報の収集がされなかった症状は、応答時間が平均ではなく、合計で表示された症状
   - WM - 新規ディスク投入時のフォーマットを強制していた条件を削除


2.0.4 (2015.02.27)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`origin-balancemode` のHashアルゴリズムの変更

       | **Before**. hash(URL) / サーバー台数
       | **After**. `Consistent Hashing <http://en.wikipedia.org/wiki/Consistent_hashing>`

   - :ref:`access-control-vhost` を使用してRedirectすると、クライアントが要求したURIをパラメータとして入力することができる。

**バグ修正**

   - キャッシュされたファイルが削除されず、ディスクがいっぱい冷たく症状


2.0.3 (2015.02.09)
----------------------------

**機能改善/ポリシーの変更**

   - DIMS 内在化と高度化
   - WM - トラフィック関連のご案内メッセージを追加

**バグ修正**

   - WM - 新規仮想ホストの作成に失敗するバグを修正


2.0.2 (2015.01.28)
----------------------------

   - ソースサーバーにキャッシュ要求したとき、クライアントが送信したUser-Agentヘッダの値を送ることができる。

**バグ修正**

   - MDATの長さが1であるMP4ファイルのTrimmingがされなかった症状
   - WM - クラスタ内の他のサーバーのグラフが表示されなかった症状
   - WM - クラスタ内の他のサーバーが現在のサーバーに見えた症状


2.0.1 (2014.12.30)
----------------------------

   - HitRatioグラフが0と表示されていた症状


2.0.0 (2014.12.17)
----------------------------

   - ソースからダウンロードされたサイズ分だけディスク領域の使用。 (:ref:`origin-partsize` 参照)
   - :ref:`env-cache-resource` 機能を追加
   - TLS 1.1 をサポート
   - AES-NIを使用し :ref:`https-aes-ni` をサポート
   - ECDHE系のCipherSuiteをサポートします。 (:ref:`https-ciphersuite` を参照)
   - :ref:`admin-log-dns` を追加
   - ソースサーバーがDomainの場合、各IP別TTLを使用するようにポリシーの変更
   - 元 :ref:`origin_exclusion_and_recovery` を追加
   - 元 :ref:`origin-health-checker` を追加
   - :ref:`adv_topics_sys_free_mem` を追加
   - その他

       | 最小実行環境に変更。 （Cent 6.2以上、Ubuntu 10.01以上）
       | インストールパッケージにNSCDデーモンが搭載
       | :ref:`media-dims` 標準搭載
       | :ref:`getting-started-reset` 後STON再起動するように変更
       | <DNSBackup> 機能の削除
       | <MaxFileCount> 機能の削除
       | <Distribution> 機能削除します。 :ref:`origin-balancemode` 機能の統合


v1.4.x
====================================

1.4.5 (2015.03.06)
----------------------------

**バグ修正**

   - キャッシュされたファイルが削除されず、ディスクがいっぱい冷たく症状
   - STONRが断続的に異常終了される症状


1.4.4 (2014.12.15)
----------------------------

**バグ修正**

   - :ref:`media-dims` 処理時404 Not Foundで応答れた症状


1.4.3 (2014.12.10)
----------------------------

**バグ修正**

   - FTPクライアントからアップロードパスが長い誤動作する症状


1.4.2 (2014.12.08)
----------------------------

   - Purge(自動回復) APIがHardPurge（回復不可）で動作するように :ref:`purge` することができる。
   - ログローリング時圧縮するように設定することができる。
   - FTPクライアント機能の強化 - 伝送時間、パス、削除、バックアップ機能を追加

**バグ修正**

   - SSL/TLS Handshake過程の中で異常終了いた症状


1.4.1 (2014.11.25)
----------------------------

   - クライアントが送信したURIを処理せずに、元のサーバーに送信するように、 :ref:`origin-wholeclientrequest` することができる。

**バグ修正**

   - MP4映像にSPS / PPSがない場合、異常終了いた症状
   - FTPクライアントがActiveモードで動作していなかった症状
   - WM - SNMPのVhostMin、ViewMinを0から設定できるように修正（従来1から）


1.4.0 (2014.11.12)
----------------------------

   - :ref:`getting-started-license` の導入
   - WM - 専用ポート分離追加


v1.3.x
====================================

1.3.20 (2014.11.05)
----------------------------

   - [全体] 過負荷管理機能を追加。 設定された最大クライアント（ソケット）の数を越えるアクセスが発生した場合、クライアントの接続、すぐに接続を壊す。 これはソリューションとプラットフォームを保護するための最も強力な措置である。 全体ソケットが一定の割合以下に下がると、クライアントのアクセスを可能にする。
   - :ref:`https` プロトコル（SSL3.0またはTLS1.0）を選択可能

**機能改善/ポリシーの変更**

   - :ref:`file-system` でファイルの時間を提供する方法を設定可能

     | **Before**. ローカルにキャッシュされた時間
     | **After**. 元のLast-Modified時刻

   - クッキー関連ポリシーの変更

     | **Before**. cookieヘッダを削除する。
     | **After**. cookie, set-cookie, set-cookie2ヘッダを削除する。 WMで警告メッセージを強化

   - WM - 仮想ホストの削除時に削除される仮想ホスト名を明示
   - WM - インストール時にcgi-binのパスにどのようなファイルをインストールしないように修正
   - WM - RRDメモリグラフのScaleを1000から1024に変更

**バグ修正**

   - :ref:`file-system` でファイルのアクセスに失敗した場合、異常終了することができた症状
   - WM - :ref:`origin-exclusion-and-recovery` からCycleと値が互いに変わって保存ていた症状


1.3.19 (2014.10.21)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`trimming` ポリシーの変更

     | **Before**. すべてのトラックをTrimmingする。
     | **After**. Audio/VideoトラックだけTrimmingする。 AllTracksプロパティを介して、既存のように、すべてのトラックをTrimmingすることができる。


1.3.18 (2014.10.15)
----------------------------

**バグ修正**

   - :ref:`media-dims` 処理では、クライアントが送信したQueryStringが反映されなかった症状
   - ソースサーバーの両方が排除されたとき、特定の条件でキャッシュファイルが初期化されなかった症状
   - WM - セキュリティポリシーを強化し、仮想ホスト名にスペースが入らないように例外処理
   - WM - Unmountされたディスクの状態を正しく認識していなかった症状


1.3.17 (2014.09.22)
----------------------------

**バグ修正**

   - SNMPWalkを通じて :ref:`cache-host-traffic-filesystem` 統計が提供されなかった症状
   - WMを介してDIMS設定時に、その仮想ホストの :ref:`env-vhost-find` が初期化れた症状


1.3.16 (2014.08.27)
----------------------------

**バグ修正**

   - :ref:`file-system` でgetattr関数が多く呼び出されると、メモリがクリーンアップされなかった症状との関連統計の修正


1.3.15 (2014.08.25)
----------------------------

**バグ修正**

   - 誤ったSNMPアクセスのために異常終了していた症状


1.3.14 (2014.08.13)
----------------------------

   - 最大使用メモリを制限するように、 :ref:`env-cache-resource` することができる。
   - SNMP - 許可されたCommunity以外にアクセスできないように :ref:`community` することができる。
   - WM - サービスListenポートをマルチに設定することができる。 クラスタ専用ポートを設定することができる。

**機能改善/ポリシーの変更**

   - ファイルインデックスポリシーの変更

     | **Before**. 完了したファイルだけをインデックスする。
     | **After**. ダウンロード中のファイルもインデックスである。

   - :ref:`emergency` デフォルトOFFに変更
   - デフォルトのAccessログにsc-content-lengthフィールドの追加


1.3.13 (2014.07.21)
----------------------------

   - WM - "コンテンツコントロール"で照会したファイルをダウンロードすることができる。

**バグ修正**

   - :ref:`file-system` のメモリリークのバグを修正


1.3.12 (2014.07.10)
----------------------------

**機能改善/ポリシーの変更**

   - :ref:`acl`, :ref:`bypass` - 複合条件を設定するときの結合（AND）キーワードを"＆"で"＆"に変更。

     | **Before**. $ IP [AP]＆！HEADER [referer]表現可能
     | **After**. $ IP [AP]＆！HEADER [referer]のように結合条件の間に必ず空白が必要

   - SNMP - bytesHitRatioタイプが負の値を表現できるようにgauge32からintegerに変更
   - WM - 非対称キー認証ポリシーに変更

**バグ修正**

   - 1MBよりも小さいMP4ファイルを :ref:`media` 機能にサービスするとき誤動作したり、異常終了された問題
   - 異常のHTTP要求の例外処理の強化


1.3.11 (2014.06.19)
----------------------------

   - 最後(=現在) の設定状態を確認する（/ conf / lastest）APIを追加

**機能改善/ポリシーの変更**

   - :ref:`bypass` 改善

     | **Before**. 明示的なURLまたはCookieなどにバイパス（または例外）の設定
     | **After**. IP、Header、URL、またはこれを組み合わせた複合条件でバイパス可能。 Cookieバイパス削除します。

   - クライアントのトラフィック - ディレクトリ別requestHitRaio追加
   - WM - hostnameとIPがログインしていない状態で表示されないように修正

**バグ修正**

   - DNSがResolving応答を正常ますがアドレスが存在しないときに死ぬバグを修正。
   - origin.log、filesystem.logローリングする際に、ファイル名がGMT時間で生成れた症状。 現地時間で生成されるように修正。
   - /monitoring/hwinfo APIでディスク使用量が表示されなかった症状
   - WM - 最終アクセス時間が正しく表示されなかった症状


1.3.10 (2014.06.03)
----------------------------

   - すべてのDiskが障害排除されたときの動作方式（再投入、Bypass、終了）を :ref:`storage` できます。
   - 元のHTTPリクエストのHostヘッダをクライアントが送信した値を使用するように設定することができます。

**機能改善/ポリシーの変更**

   - ファイルキャッシュの監視でQueryStringの特殊文字を含むURLを監視することができます。
   - :ref:`monitoring_stats` で5分間の合計量が一緒に表記されます。
   - HTTP POSTリクエストのキャッシュとBypassポリシーが同時に設定されている場合、サービスポリシーが再確立されました。
   - Trimmingポリシーの変更

     | **Before**. Trimmingの終わり(end) の時間に最も隣接するように分割
     | **After**. Trimmingの終わり(end) 時間の前Key-Frameに分割

**バグ修正**

   - MP4ファイルがサービスされず、CPUを占有していた症状


1.3.9 (2014.05.21)
----------------------------

**機能改善/ポリシーの変更**

   - サービス拒否の条件での応答コードを設定することができます。

     | **Before**.  エラーページに "401 Access Denied"と明示
     | **After**. 別のページなしに設定され、応答コードのみ応答

**バグ修正**

   - 不適切MP4映像 :ref:`trimming` の異常終了いた症状。
   - WM - Portバイパス設定が反映されなかった症状


1.3.8 (2014.04.30)
----------------------------

   - ログがローリングされるFTPに送信するように設定することができます。
   - Emergencyモードが発動しないように設定することができます。
   - ソースサーバーのETagを認識するように設定することができます。
   - SNMP Communityを設定することができます。
   - TTL適用の優先順位を選択することができます。
   - HTTPのPOST MethodリクエストのBodyをキャッシュすることに認識/無視するように設定することができます。

**バグ修正**

   - HLS変換中のビデオが割れた症状。
   - 強制的にTTLを有効期限が切れたコンテンツが304 Not ModifiedによりTTLが再び決まる設定上の最大値が割り当てられていた症状。 設定上の最小値が割り当てられるように変更します。



1.3.7 (2014.04.11)
----------------------------

**バグ修正**

   - domain.com:80ようPortが指定されたHTTPリクエストに対して仮想ホストを検出できなかった症状（v1.3.4〜1.3.6）
   - 不適切MP4映像分析の異常終了いた症状


1.3.6 (2014.04.09)
----------------------------

   - Access.logをCustomに設定することができます。
   - Viewを使用して、仮想ホストを統合して監視することができます。
   - コントロールAPI(Purge, Expire, HardPurge, ExpireAfter)の対象がない場合、HTTP応答コードを設定することができます。

**機能改善/ポリシーの変更**

   - ログローリング条件

     | **Before**.  時間やサイズの選択1
     | **After**. 時間とサイズの同時設定可能

   - WM - ページの上部にサーバーのホスト名とIPアドレスを表示します。

**バグ修正**

   - WM - 設定ファイルの中でCDATAとして保存された文字列がPlain Textに変わった症状


1.3.5 (2014.04.02)
----------------------------

**バグ修正**

   - 変更された設定を適用し、CPU使用率が高くなり、サービスが正常に動作していなかった症状
   - WM - 設定ファイルに同じ設定が重複して表示された症状


1.3.4 (2014.03.26)
----------------------------

   - FileSystemアップグレード

     | メディア機能(Trimming、HLS、DIMSなど)は、HTTPと同様に動作します。
     | XML / JSON、SNMP、詳細な統計が追加されました。

   - 正規表現を使用したURLの前処理が可能です。
   - システム（OS）のTCPソケットの状態をリアルタイムで監視します。 指標はすべてRRD Graphで提供されます。
   - 仮想ホストがポートをListenしないように設定することができます。

**バグ修正**

   - （FileSystemがMountされているとき）STONの正常終了が長くかかっていた症状
   - WM - （FileSystemを使用していない環境で）新規仮想ホストの追加時FileSystemページを有効にいた症状
   - WM - クラスタ構成の対象WMが一度も実行されていないとすれば設定が適用されなかっ症状


1.3.3 (2014.03.19)
----------------------------

**バグ修正**

   - 更新中のファイルをMP4 Trimmingにサービスするとき、断続的に異常終了いた症状


1.3.2 (2014.03.05)
----------------------------

   - WMを介して最新のバージョンに更新することができます。
   - STONのインストール/アップグレード時に進行状況をinstall.logに記録します。

**バグ修正**

   - 不完全な（=リアルタイムで変換されている）MP4ファイルのキャッシュ中のサービスが停止踊っ症状
   - WMでクラスタ全体に適用時の仮想ホストのファイルが初期化された症状


1.3.1 (2014.02.24)
----------------------------

**バグ修正**

   - MP4 ファイルサービスの異常終了することができた症状
   - :ref:`caching` 期間以外の設定が削除されなかった症状


1.3.0 (2014.02.20)
----------------------------

   - :ref:`filesystem` 追加- STONをLinux VFS（Virtual File System）でMountます。 ソースサーバーのすべてのファイルをローカルファイルI / Oとして使用することができます。
   - :ref:`caching` 追加-設定が変更されるたびに全体の設定を記録します。API（リスト、ロール、ダウンロード、アップロード）とSNMPを介して閲覧、ダウンロード、アップロード、復元が可能です。
   - MP4HLS 追加 - 単一のMP4ファイルをHLS（Http Live Streaming）に転送することができます。
   - 統計の追加 - 送信中のソースサーバーから先にソケットを終了させた回数

**機能改善/ポリシーの変更**

   - :ref:`snmp-var`

     | **Before**. 仮想ホストが削除されたり順序が変更される場合は、 [vhostIndex]が再調整される。たとえば、A（1）、B（2）、C（3）からBが削除された場合、A（1）、C（2）に再調整される。
     | **After**. [vhostIndex]を覚えている。たとえば、A（1）、B（2）、C（3）からBが削除されてもA（1）、C（3）を維持する。新規仮想ホストが追加されると、空の [vhostIndex]を持つ。たとえば、仮想ホストDが追加されると、A（1）、D（2）、C（3）に再調整される。

   - 設定リロードAPIの変更

     | **Before**. /conf/reloadall, /conf/reloadserver, /conf/reloadvhostsが別途存在し機能を異にする。
     | **After**. /conf/reloadで一括統一する。下位互換性のために、既存のAPIを維持する。


v1.2.x
====================================

1.2.14 (2014.02.06)
----------------------------

**機能改善/ポリシーの変更**

   - 送信元アドレスDNSポリシーの変更

     | **Before**. 他の仮想ホストが送信元アドレスとして、同じDomainを使用する場合Domain Resolving結果を共有する。
     | **After**. すべての仮想ホストは、独立してDomain Resolvingを行い、共有しない。

**バグ修正**

   - WMを通じたDisk Hot-Swap誤動作修正。


1.2.13 (2014.01.22)
----------------------------

**バグ修正**

   - 断続的に応答が遅れたり、送信されなかった動作修正。


1.2.12 (2014.01.02)
----------------------------

**バグ修正**

   - 最新NEXUS機器からTrimmingされたMP4 / M4Aが再生されなかった症状を修正。 (エラーメッセージ: The player doesn't support this type of audio file.)


1.2.11 (2013.12.20)
----------------------------

**機能改善/ポリシーの変更**

   - ソースサーバーCache-Controlヘッダーを認識ポリシーの変更

     | **Before**. no-cacheまたはmax-ageだけ認識する。
     | **After**. no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、private、max-ageを区別して認識する。customは無視する。

   - 5分平均Request Hit率の計算方法を変更する

     | **Before**. 各TCP_XXXの（単位時間の）平均を求めた後、Hit率を計算する。各平均値が単位時間よりも小さいとき失われることがあります。
     | **After**. （平均を出さずに）の割合のみ計算して値が欠落していない。


1.2.10 (2013.12.13)
----------------------------

**機能改善/ポリシーの変更**

   - HTTPS通信では、Accessログの範囲を変更

     | **Before**. クライアントがSSL Server Finishedパケットを完全に受信したHTTPSトランザクションだけAccessログに記録する。
     | **After**. クライアントがSSL Server Finishedパケットを完全に受信していない場合でもHTTP Requestパケットを送信したら、Accessログに記録する。

**バグ修正**

   - 異常終了（物理セッション損失）されたHTTPSセッションが再利用される前に、要求されたコンテンツと、現在の要求されたコンテンツを同時に処理していた症状。2つのHTTP要求を同時に処理することができ、これは常に現在の要求された要求のみが有効になるよう修正。


1.2.9 (2013.12.09)
----------------------------

**機能改善/ポリシーの変更**

   - Bandwidth-Throttling

     | **Before**. Boost時間メディアを転送するときに、ヘッダーを含んでいる。ヘッダが大きい場合、メディアデータが送信されず、バッファリングが発生することができる。
     | **After**. 미디어 헤더는 대역폭 제한없이 전송한다. 헤더 전송이 완료된 후 Boost 시간이 시작된다.

**バグ修正**

   - WM ポート変更後STONの更新時に変更されたポートが維持されなかった症状


1.2.8 (2013.11.14)
----------------------------

**機能改善/ポリシーの変更**

   - 接続するHTTPクライアントごとに固有の番号（session-id）を付与します。session-idは、AccessログとOriginログに追加され、関連性を推測することができます。
   - API호출의 파라미터로 https://... 形式を認識します。

**バグ修正**

   - Content-DispositionヘッダがHTTP応答に2回表示された症状

   - Bandwidth-Throttling設定がOFFのときTrimmingが動作しなかった症状
   - WMアカウントに特殊文字（＆）使用時のログインアンドゥェドン症状


1.2.7 (2013.10.17)
----------------------------

   - HTTP Connectionヘッダを設定することができます。
   - HTTP Keep-Aliveヘッダを設定することができます。

**機能改善/ポリシーの変更**

   - HTTP応答にConnectionヘッダとKeep-Aliveヘッダを基に設定します。


1.2.6 (2013.10.14)
----------------------------

   - ソースサーバーの "Server" ヘッダーをクライアントに転送するように設定することができます。


1.2.5 (2013.10.10)
----------------------------

   - Origin By Clientを設定することができます。

**機能改善/ポリシーの変更**

   - 認識することができるメディアファイルに動的にBandwidth-ThrottlingのBandwidthを設定することができます。v1.2.4まで存在していたMedia.Pacingは、この機能に含まれ、削除されました。

**バグ修正**

   - ごくまれに誤った文字列を参照エラーが原因で異常終了いた症状


1.2.4 (2013.09.27)
----------------------------

   - Bandwidth-Throttlingを介して送信帯域幅を多様に設定することができます。

     | Warning: 次のバージョンではMedia.PacingはBandwidth-Throttlingに統合されます。メディアファイル（現在MP3、MP4、M4Aサポート）のBitrateをBandwidth-Throttlingで認識することができる形になります。現在は、既存の機能Media.Pacingが優先するように開発されています。

   - 仮想ホストごとにクライアント最大Bandwidthを制限するように設定することができます。
   - ヘッダが背後にあるM4Aファイルをヘッダを前に移しサービスするように設定することができます。
   - M4Aファイルを必要な区間だけ切り取っサービスするように設定することができます。

**機能改善/ポリシーの変更**

   - 仮想ホストAccessControlの条件に該当するクライアントの要求に対してRedirect（302 moved temporarily）に応答するようにアクセスを制御することができます。HIT率はTCP_REDIRECT_HITに別々に収集されます。
   - TCP_REDIRECT_HITがすべての統計に追加されました。
   - 仮想ホストAccessControl条件をANDで結合するように設定することができます。

**バグ修正**

   - クラスタが構成されていなかった症状 - IPアドレスを抽出するときLoopbackが抽出れた症状


1.2.3 (2013.09.05)
----------------------------

   - DIMS(Dynamic Image Management System) - ソースサーバーのイメージを加工（カット、サムネイル作成、サイズ変更、フォーマットの変更、品質コントロール、合成）するように設定することができます。
   - MP3ファイルを必要な区間だけ切り取っサービスするように設定することができます。
   - 特定のIPだけListenするように設定することができます。
   - [WM] 新規仮想ホストを作成する際に、既存の仮想ホストを選択してコピーすることができます。
   - [WM] 仮想ホストでDIMSを設定することができます。

**機能改善/ポリシーの変更**

   - 元セッションを再利用しないように設定することができます。

**バグ修正**

   - MP4 Trimming中の異常終了いた症状
   - コンソールで変更した仮想ホストの設定がWMのクラスタに反映されなかった症状


1.2.2 (2013.08.16)
----------------------------

   - HTTP Post要求をキャッシュするように設定することができます。
   - STONこのサービスを買う余裕ができない状態にEmergencyに転換される。

**機能改善/ポリシーの変更**

   - サービス許可/遮断条件に否定(!IP, !HEADER, !URL)の条件が追加されました。
   - WMとコンソールで同時に設定を変更するときにWMでコンソールで変更した内容を認識するように変更されました。
   - WMでIEの "互換表示" メニューを非表示に変更されました。

**バグ修正**

   - CPU過負荷状態でバイパスセッションが正常にクリーンアップされない異常終了いた症状
   - （vary設定で）元のサーバーから200 OKで応答していないコンテンツサービスの異常終了いた症状
   - 仮想ホスト名とAliasが同じ場合Aliasを削除したときに、仮想ホストを見つけることができなかった症状
   - WMクラスタに設定が反映されなかった症状


1.2.1 (2013.07.26)
----------------------------

   - MP4ファイルを必要な区間だけ切り取っサービスするように設定することができます。
   - ソースサーバーからコンテンツを最初にキャッシュしたり、更新したときにRange要求をするように設定することができます。

**バグ修正**

   - WMでクラスタが構成されていなかった症状
   - ログの設定を変更した後、 "/conf/reloadserver" APIを呼び出したときに反映されなかった症状
   - SNMPでHost平均統計が平均ではなく、合計で計算れた症状
   - 特定の状況では、クライアントのトラフィック統計数値が異常に高く計算れた症状


1.2.0 (2013.07.01)
----------------------------

   - WMが追加されました。すべての設定がWMを介して可能でMRTG（5種類 - ダッシュボード/ 5分/ 30分/ 2時間/ 1日）が最大18ヶ月分を提供します。WMを介してSTONをクラスタにまとめて簡単に管理することができます
   - Graph APIが追加されました。
   - ソースサーバーのVaryヘッダを認識するように設定することができます。
   - クライアントと通信するHTTPリクエスト/レスポンスヘッダを変更するように設定することができます。
   - ソースサーバーのすべてのヘッダーをクライアントに転送するように設定することができます。
   - ソースサーバーでRedirectされたコンテンツを追跡してキャッシュするように設定することができます。
   - 特定のURLにのみQueryStringを認識または無視するように設定することができます。
   - マネージャーのポートACLごとにアクセス権を設定することができます。
   - ログをON / OFFするように設定することができます。
   - ローカル通信のログを記録しないように設定することができます。
   - ローカル通信の統計情報を収集しないように設定することができます。

**機能改善/ポリシーの変更**

   - ログTraceアクセスがあったとき、ログに記録します。
   - ハードウェア情報を照会するときのCPUを高く使用していた症状が改善されました。


v1.1.x
====================================

1.1.17 (2013.05.27)
----------------------------

   - Origin By Clientを設定することができます。

**機能改善/ポリシーの変更**

   - Transfer-Encodingに送信されたコンテンツを（伝送遅延などの理由で）完全にキャッシュしていない場合は、クライアントサービスポリシーの変更

     | **Before**. キャッシュに失敗した現在のコンテンツをサービス
     | **After**. 以前に完全にキャッシュされたコンテンツがある場合は、以前のコンテンツへのサービス。ない場合は、500 Internal Error。

**バグ修正**

   - RefreshExpiredがOFFの状態でPartSizeが0よりも大きく設定されている場合、コンテンツの更新がない症状


1.1.16 (2013.05.15)
----------------------------

**機能改善/ポリシーの変更**

   - Linuxのファイルの最大数の制限にFile I / Oが失敗しないように、ファイルの保存方法を変更する
   - 通常の動作のために必要なサブファイルのチェックログを追

**バグ修正**

   - 更新中のファイルがHardPurgeされる異常終了いた症状
   - 仮想ホストごとにメディアの設定がされていなかった症状
   - syslogの設定が再ロードされなかった症状
   - OriginErrorログにsyslog設定時InfoログにInactiveに表示された症状


1.1.15 (2013.04.29)
----------------------------

   - CPU 性能指標（Nice、IOWait、IRQ、SoftIRQ、Steal）統計を追加

**バグ修正**

   - Track情報が多くMP4ファイル解析中異常終了いた症状
   - HTTP Transfer-Encodingされたコンテンツを転送するときに遅延れた症状


1.1.14 (2013.04.10)
----------------------------

   - SNMPに全体の "仮想ホストの合計"が追加されました。

**機能改善/ポリシーの変更**

   - (ファイルが存在しないとき) GeoIPファイルリスト照会結果を変更

     | **Before**. 404 NOT FOUND
     | **After**. 200 OK ("files": [] 応答)

**バグ修正**

   - SSLv3でRSA_WITH_3DES_EDE_CBC_SHAでHandshakeがされなかった症状を修正
   - Httpsに空の文字列入力時誤動作した症状


1.1.13 (2013.03.29)
----------------------------

**バグ修正**

   - ディレクトリごとの統計が設定された状態で、累積統計がOFFの場合、異常終了していた症状
   - 初めてアクセスされるコンテンツは、元のサーバーからの応答を受信する前Purgeされる場合は、クライアントへの応答を与えなかった症状
   - HTTPリクエストのURIが相対アドレスではなく、絶対アドレスの場合、サービスアンドゥェドン症状


1.1.12 (2013.03.27)
----------------------------

   - No-Cacheリクエストが来ている場合、要求されたコンテンツをすぐに期限切れにさせるように設定することができます。
   - CentOSパッケージにopenSUSEでインストールすることができます。

**機能改善/ポリシーの変更**

   - No-Cacheリクエスト認識条件を変更

     | **Before**. "pragma: no-cache" または "cache-control: no-cache"
     | **After**. 既存の条件に "cache-control: max-age=0" を追加

**バグ修正**

   - DNS更新時異常終了いた症状
   - 最大ファイル数を渡るときにURLにVertical Bar(|)があるファイルが削除されなかった症状
   - HTTP要求がバイパスされるHttpReqBodySizeとClientInbound値が正しくなかった症状


1.1.11 (2013.03.21)
----------------------------

   - Disk障害条件を設定することができます。障害と判断されたディスクは、自動的に排除されます。
   - Disk HotSwap用（実行中のディスク交換）APIが追加されました。
   - ログをsyslogに送信するように設定することができます。
   - 元のサーバーから一度にダウンロードされたコンテンツのサイズを設定することができます。
   - GeoIPファイルリスト照会APIが追加されました。
   - FAQに "マルチドメインのSSLを構成するには？" この追加されました。

**機能改善/ポリシーの変更**

   - ソースサーバーの障害コードの変更

     | **Before**. 数字で表示
     | **After**. 読みやすい形式で表示(Connect-Timeout, Receive-Timeout, Server-Close)

   - 元のサーバー障害ログ記録時のコメントでエラー状況を記録していたことを取り除く。OriginErrorLogに統合。

**バグ修正**

   - Manager Port変更後Reloadするとき異常終了されたバグの修正


1.1.10 (2013.03.07)
----------------------------

   - 仮想ホストごとにアクセス/ブロック条件(IP, GeoIP, URI, Header)を設定することができます。関連統計が追加されました。
   - ドメインResolvingが失敗した場合、最近使用されたIPをすべて使用して、元のサーバーの負荷を分散するように設定することができます。
   - 監視APIが追加されました。

     | 仮想ホストのリスト参照
     | ハードウェア情報照会
     | HTTPS CipherSuite 照会
     | アクセス遮断条件（acl.txt）照会
     | Expiresヘッダの条件（expires.txt）照会

**機能改善/ポリシーの変更**

   - ログディスクの空き容量が不足する場合は、ポリシーの変更

     | **Before**. 介入しない。管理者が明示的に削除する必要がある。
     | **After**. Accessログだけ削除します。もし現在使用中のログを消去する状況であれば、新しいログを作成した後削除。

   - STON 終了後（vhosts.xmlから）削除された仮想ホストファイルのポリシーの変更

     | **Before**. 介入しない。管理者が明示的に削除する必要がある。
     | **After**. ディスクの空き容量が不足すると、優先的に削除します。

   - (仮想ホスト別) 再起動時に正常にロードされていないディスクのファイルへのポリシーの変更

     | **Before**. サービスの自然上書きされるように残しておく
     | **After**. そのディスクを信頼することができないと判断してすべて無効に。クリーンアップ時間やディスクの空き容量が不足時点ですべて削除します。

   - ドメインResolving結果照会APIの変更。

     | **Before**. /dns/list
     | **After**. /monitoring/dnslist

   - ログトレースAPIの変更

     | **Before**. /logtrace/...
     | **After**. /monitoring/logtrace/...

   - ドメインResolving結果にバックアップされたIPのリストを追加


1.1.9 (2013.02.27)
----------------------------

   - mod_expiresのようにExpiresヘッダを設定することができます。
   - HTTPSのCipherSuiteを設定することができます。
   - ファイルを管理(Purge/Expire/HardPurge/ExpireAfter)したときに、単一のURLを入力しても、QueryStringまですべて管理するように設定することができます。
   - ETagヘッダを表示するかどうかを設定することができます。
   - Ageヘッダを表示するかどうかを設定することができます。

**機能改善/ポリシーの変更**

   - HTTPS CipherSuiteが追加されました。

     | RSA_WITH_RC4_MD5
     | TLS_RSA_WITH_3DES_EDE_CBC_SHA

   - 数字（秒= sec）のみだった表現を認識しやすい文字形式で表現可能

     | **Before**. /image/ad.jpg, 1800
     | **After**. /image/ad.jpg, 6 hours

   - SNMPでの平均にのみ提供していた数値を累積的に提供（クライアント/ソース）

     | 既存のCountという表現をAverageに変更。Averageは時間で割った平均を意味
     | 時間集計された合計数はCountで表現
     | 全体の要求/応答数を追加
     | 応答コード別の応答/終了数を追加
     | Request Hit Count追加

   - 再起動/シャットダウン/キャッシュの初期化APIを呼び出すときに、 "確認" のプロセスなしで呼び出すことができます。
   - システムLoad Average - 1分/ 5分/ 15分の統計を追加
   - すべての仮想ホストの送信元サーバーを初期化することができます。

**バグ修正**

   - Domain Resolving結果が変更されたときに、複数の仮想ホストに同時に反映さアンドゥェドンバグを修正
   - Purge / ExpireでQueryStringがついているURLが処理できなかったバグを修正


1.1.8 (2013.02.21)
----------------------------

   - クライアントの要求が常に同じ送信元サーバーとしてバイパスするように設定することができます。
   - ドメインResolving結果を監視することができます。
   - ドメインResolving結果が更新されたときにInfoログに記録するように設定することができます。
   - ソースサーバーの使用と排除/回復状況を初期化することができます。
   - Clean-up時間に一定期間アクセスされていないコンテンツを削除するように設定することができます。
   - Clean-upを実行するAPIが追加されました。

**機能改善/ポリシーの変更**

   - Originログ強化

     | 接続したポートの記録
     | BypassとPrivateBypass区分可能
     | ソースサーバーが送信されるContent-Encodingヘッダ記録

   - Accessログ強化

     | クライアントが送信されるAccept-Encodingヘッダ記録
     | BypassとPrivateBypass区分可能

   - ソースサーバーがドメイン名に設定されているときに機能改善

     | Resolving結果がすぐに反映さ。
     | Pらに対し個別に排除/回復。

   - Purge/Expire/HardPurge/ExpireAfter呼び出しの結果応答コードの修正

     | 正常。 200 OK
     | 仮想ホスト無し。 502 BAD GATEWAY
     | 不適切規格。 400 BAD REQUEST

   - FAQのページを更新

     | ソースサーバーの使用/排除/回復ポリシーは？
     | ディスクの空き容量はどのように保証できますか？

**バグ修正**

   - ディスクの空き容量が不足してもスペースの確保がされていなかったバグを修正


1.1.7 (2013.02.16)
----------------------------

**機能改善/ポリシーの変更**

   - Cent OS 5.5以上とUbuntu 10以上で同時接続ソケットが10万を超えると、システムのパフォーマンスが低下し、ソケットの処理が失敗している症状を確認しました。したがって、最大ソケットを10のみに制限します。

**バグ修正**

   - 使用中のソケットが設定された最大ソケット数を超えたときの増設されなかったバグの修正
   - Byte Hit Ratio結果が不正確に表示されたバグの修正
   - 累積統計XMLでClientSessionが2回出てきたバグを修正。（ClientActiveSessionに変更）
   - "abc*"にパターン設定した場合、 "abc"のようにパターン部分が空の文字列を認識していなかったバグを修正


1.1.6 (2013.01.30)
----------------------------

   - ソースサーバーがマルチで構成されているときは、常にサーバーに同じように要求するように設定する。

**機能改善/ポリシーの変更**

   - ソースサーバーの負荷分散ポリシーがSessionでRoundRobinに変更されました。
   - グローバルログ（Info、Deny、OriginError）を時間的にローリングさせる。

     | **Before**. サイズのみローリング可能(Size属性のみ存在)
     | **After**. 間/サイズでローリング可能 (Sizeプロパティを削除。Type、Unit属性の追加)

   - 無効な形式または存在しない仮想ホストを対象にPurge / Expire / ExpireAfter / HardPurge呼び出し時の応答コードを変更する

     | **Before**. 200 OK
     | **After**. 400 BAD REQUEST または 404 NOT FOUND


**バグ修正**

   - v1.1.5から元サーバーのアドレスのリストを変更して再ロードしたときに、断続的に異常終了いた症状
   - 元のサーバーでトランザクションの完了回数を収集する際にContent-Lengthが0である応答がないていた症状


1.1.5 (2013.01.28)
----------------------------

   - クライアントごとにバイパス専用のセッションを使用するように設定します。GETリクエストやPOSTリクエストを個別に設定することができます。
   - クライアントCookieヘッダーに基づいてバイパスするように設定します。

**機能改善/ポリシーの変更**

   - 元サーバーのアドレスが落ちるときの動作方法を変更する

     | **Before**. すでに接続されている場合は、再利用する。
     | **After**. すぐに再利用していない。

   - QueryStringを区別するように設定されたときPurge / Expire動作方法を変更する。

     | **Before**. 入力されたURLとそのURLにQueryStringがついたコンテンツPurge / Expire
     | **After**. 入力されたURLのみPurge / Expire

   - Activeセッション算出方法の変更

     | **Before**. 統計を抜く時にデータ転送が行われているセッション
     | **After**. データ転送が発生したUniqueたセッション

   - 統計/パフォーマンスデータが追加/削除されました。

     | System統計を追加
     | 総合統計要請回数、Activeセッション統計を追加
     | SSLクライアントセッションの数を削除


1.1.4 (2013.01.17)
----------------------------

   - HTTPSをIPとPortに別の方法で結合することができます。

**機能改善/ポリシーの変更**

   - 64GB機器でFreeメモリポリシーが16GBに変更されました。（前: 8GB)
   - HTTP Methodをサービスポート（80）に呼び出すことができます。
   - グローバル設定（server.xml）のHTTPSの設定が変更されなくてもリロードするとき、証明書ファイルが変更された場合に反映します。


1.1.3 (2013.01.15)
----------------------------

**機能改善/ポリシーの変更**

   - 一度に記録することができるログの最大サイズを10MBに拡張（以前: 2KB)
   - POSTで送信するURLのサイズを最大1MBに拡張（以前: 10KB)

**バグ修正**

   - ログが時間あたりのローリングされるファイル名（日）が正確ではなかった症状


1.1.2 (2013.01.14)
----------------------------

   - GeoIPでアクセス制御が可能です。クライアントが接続するとき、国コードで接続をブロックすることができます。
   - アクセスブロックされたIPアドレスをdeny.logに記録します。
   - ログを動的に変更することができます。
   - AccessログキャッシュHIT結果（TCP_HIT、TCP_MISS、...）を追加
   - 管理用HTTP Methodが追加されました。
   - POSTを使用してPURGE、HARDPURGE、EXPIRE、EXPIREAFTERすることができます。
   - stonapiを全体/一部のドメインを初期化することができます。
   - APIのリストを閲覧するHelpコマンドを追加

**機能改善/ポリシーの変更**

   - ETagヘッダを提供する際に二重引用符("...")で囲んで表記
   - HIT率計算式を変更

     | **Before**. すぐに応答/すべての応答
     | **After**. (TCP_HIT + TCP_IMS_HIT + TCP_REFRESH_HIT + TCP_REF_FAIL_HIT + TCP_NEGATIVE_HIT) / すべての応答

   - 統計/パフォーマンスデータが追加/削除されました。

     | 平均統計統計を作成した日付/時刻を追加
     | クライアントからSTONに接続/終了する統計の追加
     | STONが元のサーバーに接続/終了する統計の追加
     | System 追加
     | "Cached" 統計の削除

   - 正規表現のパフォーマンスを向上 (X 20)
   - fileinfoから米キャッシュファイルである場合statusを "OK"で "NOT_CACHED"に変更

**バグ修正**

   - SNMPでディスク情報（diskInfoPath、diskInfoStatus）を得たときにDisk数よりも大きな値がdiskIndexに入力されると、異常終了いた症状
   - ディスクがいっぱいになる前に削除されなかった症状。ディスクAvailableスペースを空き領域として理解するように修正
   - stonapiが管理ポートを認識していなかった症状
   - Infoログに "Download-Range" メッセージを削除


1.1.1 (2012.12.24)
----------------------------

   - すべての仮想ホストのソースサーバー上の動作を一つのファイル（originerror.log）に記録する。
   - HTTP Multi-Range要求を処理することができます。
   - ソースサーバーでno-cacheに応答しても、クライアントにはmax-ageを与えるようにTTLを設定することができます。

**機能改善/ポリシーの変更**

   - Accept-Encoding処理ポリシーの変更。

     | **Before**. クライアントと元サーバの圧縮に互換性がない場合は、500エラーで応答する。
     | **After**. クライアントと元サーバの圧縮に互換性がなくても、元のサーバーの応答を送る。

   - 次のように統計/パフォーマンスデータが追加されました。

     | ソース/クライアントのActiveセッション数が追加されました。
     | STONが使用するCPU（Kernel、User）性能の数値が追加されました。

**バグ修正**

   - (設定: TTL=0, RefreshExpired=ON) 元のファイルが変更されたとき変更されたファイルの最初の応答コードを500に送った症状


1.1.0 (2012.12.17)
----------------------------

   - 仮想ホストごとに最大Outboundを制限するように設定することができます。
   - ヘッダが背後にあるMP4ファイルをヘッダを前に移しサービスするように設定することができます。.
   - MP4のBitrateだけ低帯域幅で送信するように設定することができます。
   - 最大のサービスファイルの数を設定することができます。
   - 最大HTTPセッション数を設定することができます。
   - APIのすべての関数を、Linuxコンソールから呼び出すことができます。
   - Log-Trace APIを介して記録されたログをリアルタイムで受け取ることができます。
   - シェルでSTONを更新することができます。

**機能改善/ポリシーの変更**

   - メモリポリシーが変更されました。最大ファイル数と最大ソケット数を設定して、コンテンツメモリのサイズを変更することができます。
   - ドメインをリジョルビング（Resolving）した結果をキャッシュします。少なくとも1秒、最大10秒間キャッシュされます。
   - OriginOptionsのいくつかの設定（user-agent、host、WL-Proxy-Client-IP、xff-x-forwarded-for）をバイパスされるHTTP要求に選択的に適用することができます。
   - ソースサーバーから5xx系の応答コードがキャッシュされた場合、TTLが期限切れになるとRefreshExpiredがOFFであっても、常に元のサーバーから更新するかどうかを確認し、サービスします。
   - ソースサーバーにexample.com/dir1ようディレクトリ名をように指定することができます。クライアントが/test.jpgに要求する場合、元のサーバーに要求するアドレスはexample.com/dir1/test.jpgになります。
   - ファイルキャッシュの監視項目が強化されました。
   - ソースサーバーアドレスがドメイン名であれば、個別に<Host>を設定しなくても、ドメイン名でHostヘッダを送信するように修正しました。
   - 次のように統計/パフォーマンスデータが追加されました。

     | ソース/クライアントのHTTPリクエストの数が統計に追加されました。
     | 正常に終了し、元のクライアント/ HTTPトランザクションの統計が追加されました。
     | CPUとMemoryの統計情報が追加されました。
     | Diskごとのパフォーマンス指標が追加されました。
     | ソースログにcs-acceptencoding、sc-cachecontrolフィールドが追加されました。

**バグ修正**

   - ソースサーバー排除/回復過程（アドレス3個以上）で、後順位のソースサーバーが優先回復された時、異常終了いた症状상
   - HTTPリクエストヘッダーがキーと値の間にスペースがない場合、解釈できなかった症状
   - ログを "Size"に設定したとき、中間ファイルが先にローリングされて削除いた症状
   - 以下の状況での応答を与えなかった症状

     | Aファイルを元のサーバーに要求したが、404 Not Foundが発生
     | Memory Swap過程の中でAファイルのBodyをMemoryから削除（AファイルはMetaだけ存在する状態になる）
     | Aファイルサービス要求が入ってくる
     | AファイルがサービスのためにBodyをLoadするしたが失敗しました。ファイルの初期化を実行
     | Aファイルは、元のサーバーにダウンロードを進めようとしたが、元のサーバー排除に失敗する
     | 以後Aファイルは、初期化時に失われてしまって初期化状態で存在する

   - 次の状況では、Expire / Purgeが成功したかのように出てきて更新されなかった症状

     | Aファイルをバックグラウンドで更新しようとする함
     | 元のサーバーからHTTP応答を受けた伝送遅延が発生する
     | 伝送遅延に接続が終了するか、セッションが異常終了した時、更新の失敗が正しくクリーンアップされていない状況が発生する


v1.0.x
====================================

1.0.17 (2012.11.29)
----------------------------

   - HardPurge APIが新規に追加されました。HardPurgeしたコンテンツは、完全消去を意味します。修復が不可能です。
   - 仮想ホストごとにクライアントKeep-Alive時間を設定することができます。



1.0.16 (2012.11.28)
----------------------------

   - SNMPWalkが動作するようにSNMPの機能が全体的に修正されました。

     | SNMPの[min]変数の初期値を設定することができます。SNMPWalkは設定値を参照して、[min]変数を設定します。
     | 全仮想ホスト名を付けて提供していた設定（VHostList）が削除されました。
     | いくつかのOID値が拡張できるように再調整されました。

   - ルート（/）ディレクトリのPurge / Expireを防ぐように設定することができます。


1.0.15 (2012.11.22)
----------------------------

   - 通常のキャッシュ（200 OK）されているファイルを更新する過程で、元のサーバーから4xx応答を受けたとき、まるで304 not modifiedを受けたかのように動作するように設定します。これにより、サーバーの一時的な障害からのコンテンツを更新する行為を防止することができます。
   - コンテンツの有効期限を強制的に指定するExpireAfter APIが追加されました。
   - ソースサーバーのアドレス、ポートがように宣言されている場合は、ポートバイパスがされていなかった問題が修正されました。
   - 累積統計がONである状態で、ポートバイパス統計を集計すると異常終了された問題が修正されました。


1.0.14 (2012.11.15)
----------------------------

   - ディレクトリ毎の統計情報を設定したとき、統計監視中異常終了することができる問題が修正されました。
   - カスタムTTLの変更が適用されなかった症状が修正されました。カスタムTTLは、すぐに反映されず、TTLが期限切れになる時点で再適用されます。


1.0.13 (2012.11.12)
----------------------------

   - キャッシュされたファイルを最初に変更の確認（If-Modified-Since）にアクセスする場合は、ファイルが正常に初期化されなかったバグが修正されました。このバグにより、最初の応答時に500 Internal Errorを送信したり、TTLが非常に短く設定されている場合は、ファイルの有効性が問題になることがあります。
   - 断続的に、元のサーバーからコンテンツが変更されていなくても（304 Not Modified）最初のアクセスしているクライアントを無条件200 OKで処理していた症状が修正されました。
   - 通常のキャッシュ（200 OK）されているファイルを更新する過程で、元のサーバーから5xx応答を受けたとき、まるで304 not modifiedを受けたかのように動作するように設定します。これにより、サーバーの一時的な障害のためのコンテンツを無効化して、元のサーバーのトラフィックを加重させる行為を防ぐことができます。
   - SNMPからの応答受信仮想ホストの最大数を設定することができます。


1.0.12 (2012.11.05)
----------------------------

   - 要約統計の数値（元のトラフィックは、セッション）が合わなかった症状が修正されました。


1.0.11 (2012.10.31)
----------------------------

   - 元のサーバーが排除された状況では、Purge / Expireが動作しません。
   - 特定のPurgeコマンドがExpireで動作するように設定することができます。


1.0.10 (2012.10.29)
----------------------------

   - 元のサーバーが排除された状況で、POSTリクエストがクライアントセッションから欠落していた症状が修正されました。
   - ソースサーバーの障害が原因でPurgeされたコンテンツを復活させる過程で、まだディスクに保存されていないコンテンツを初期化していた症状が修正されました。


1.0.9 (2012.10.22)
----------------------------

   - ソースサーバーHTTP応答のContent-Dispositionヘッダを認知するように修正されました。


1.0.8 (2012.10.19)
----------------------------

   - ソースサーバーからTransfer-Encoding：chunkedオプションで応答を与えるとき、クライアントにContent-Lengthを与えないように修正しました。
   - クライアントのIf-Rangeヘッダを認知するように修正しました。


1.0.7 (2012.10.18)
----------------------------

   - HTTPリクエストのHostフィールドに仮想ホストを検索するとき、大文字と小文字を区別しないように修正されました。


1.0.6 (2012.10.12)
----------------------------

   - SSLv2 ClientHelloを認識するようになりました。
   - バイパス中ソースサーバーが最初に接続を終了したとき誤動作した症状が修正されました。


1.0.5 (2012.10.08)
----------------------------

   - ソースサーバーの要求時に値が存在しないQueryString項目が欠落していた症状が修正されました。


1.0.4 (2012.10.04)
----------------------------

   - 元のサーバーのログにQueryStringを記録していなかった症状が修正されました。


1.0.3 (2012.09.28)
----------------------------

   - 設定ファイルを再ロードしても、OriginOptionsのHost設定が反映されなかった症状が修正されました。


1.0.2 (2012.09.27)
----------------------------

   - 設定ファイルを再読み込みした後、Custom TTL設定が適用されなかった症状が修正されました。


1.0.1 (2012.09.20)
----------------------------

   - QueryStringの設定がONの場合、Purge / Expireが過度にCPUを占有していた問題が改善されました。


1.0.0 (2012.09.18)
----------------------------

   - 設定ファイルを動的にReloadすることができます。サービスを中断せず、仮想ホストの追加、削除、変更が可能です。
   - ハードディスクの最大使用量を設定することができます。設定しなくても、常にディスクがいっぱいになってないように管理されます。
   - 仮想ホストの順序が変更されても、常に同じSNMPのOIDで統計情報を収集することができるように、仮想ホストのOIDを設定することができます。
   - AccessログをApacheとMicrosoft IIS形式に設定することができます。
   - HTTP応答にViaヘッダーを挿入を設定することができます。
   - クライアントのAccept-Encodingを無視するように設定することができます。
   - コンソールまたはAPIを介してSTONバージョン確認が可能です。
   - APIを介して設定ファイルの閲覧が可能です。
   - 元のサーバーのログにQueryStringを記録します。
   - SSLを使用しHTTP Post要求バイパスが誤動作したバグが修正されました。
   - 仮想ホストサービスポートの設定が<Address>で<Listen>に設定された。
   - 仮想ホストごとにディスクの設定を個別に行うことができません。すべての仮想ホストは<Storage>を介してディスクを共有するように設定しました。
   - Infoログが見やすい形式に変更されました。
   - fileinfo応答の時間表現が "2012.09.03 14:29:50" のように読みやすい形に変更されました。


v0.9.x
====================================

0.9.6.7 (2012.08.23)
----------------------------

   - バイパス中のソースとクライアントのセッションが同時に切断されるSTONが異常終了していたバグを修正
   - ソースサーバーが "Transfer-Encoding: chunked"で応答を与えるときReceive Timeoutが短く指定されたバグの修正
   - APIレスポンスのMIMEタイプをapplication / jsonでは、text / plainに変更


0.9.6.6 (2012.08.01)
----------------------------

   - 特定のIPのサービス（仮想ホスト）へのアクセスをブロックまたは許可するように設定することができます。
   - ソースサーバーが過負荷状態と判断されると、有効期限が切れたコンテンツのTTLを元のサーバーに要求していない更新します。
   - GETリクエストのデフォルトの動作を元のサーバーにバイパスするように設定することができます。
   - Originログにバイパスされた要求であるか記録します。
   - バイパスセッションのTimeout時間を設定することができます。


0.9.6.5 (2012.07.17)
----------------------------

   - ソースサーバーをActive / Standbyに設定することができます。
   - AccessログにクライアントのRangeフィールド（cs-range）を追加
   - HTTP要求がInvalid Rangeを要求した場合の動作方法を変更しました。従来は、ファイルサイズを超えてRange要求は無条件416 Requested Range Not Satisfiableで処理された。今回のバージョンから終了オフセットがファイルサイズよりも大きい場合206 Partial Contentで処理されます。開始オフセットがファイルサイズよりも大きい場合は、既存のと同じように処理されます。


0.9.6.4 (2012.07.12)
----------------------------

   - HTTP POSTリクエストの処理時に異常終了された問題を修正しました。
   - HTTP POSTリクエストの送信元サーバーバイパスするかどうかを設定することができます。
   - ソースサーバーのHTTP応答Content-Typeヘッダが明示されていない場合は、クライアントにもContent-Typeヘッダを与えません。（従来はtext / htmlに設定）


0.9.6.3 (2012.07.11)
----------------------------

   - HTTPS要求を元のサーバーにバイパスすると、不適切なメモリ参照により誤動作/異常終了された問題が修正されました。
   - 透明（Transparent）モードをサポートします。STONとソースサーバーのネットワーク区間の間に、元のサーバーの応答をSTONに転送する設定が必要です。
   - Expiredされたコンテンツをサービスする前に、必ず元のサーバーで確認することができます。
   - もはやURLBypass統計を別途収集しません。ソース/クライアントのトラフィックの統計情報に統合されました
   - IBM WebLogicクライアントAccessログを残すことができるようWL-Proxy-Client-IPヘッダを追加することができます。
   - ソースサーバーに送信HTTPリクエストのX-Forwarded-ForヘッダのクライアントIPの後に設定することができます。
   - エラーページ（500 Internal Error）でエラーの理由を表示します。
   - 設定で、文字列の空白を削除していなかった問題が修正されました。すべての文字列の左右のスペースは削除されます。


0.9.6.2 (2012.06.19)
----------------------------

   - キャッシュされていないファイルの最後の部分をRange Requestたとき（Rangeの範囲が1024 Bytes未満）のデータが転送されなかったバグを修正


0.9.6.1 (2012.06.14)
----------------------------

   - CacheClear機能を追加 - に設定され、すべてのディスクを削除します。STONのすべてのサービスは中断され、処理が完了した後、自動的に再開されます。

     | http://127.0.0.1:10040/command/cacheclear

   - ログファイルのOriginOptionsのHost設定漏れが修正されました
   - ログファイルのOptionsの設定表現が "TTL"から "Options"に変更されました。


0.9.6 (2012.06.12)
----------------------------

   - SNMP（Simple Network Monitoring Protocol）をサポートします。STONは常に実行パスにMIB（Management Information Base）ファイルを生成します。STONのSNMPは、仮想ホスト別、リアルタイム、最近1〜60分までの統計を提供しています。最初の実行時に無効にされており、server.xmlを編集して活性化させることができつなぎます。
   - 元のサーバーでContent Lengthない答えが来る場合は、Originログにソースサーバーエラーとして記録しないように変更されました。ソースサーバーから一方的に接続を終了した場合には、もしそのセッションがContent LengthがないHTTPトランザクションを実行しているとすれば、元のエラーとして記録されません。
